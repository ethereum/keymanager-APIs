
post:
  operationId: submitVoluntaryExit
  summary: Submit voluntary exit for an active validator
  description: |
    Initiate a voluntary exit for an active validator, identified by a public key known to the validator client. This 
    endpoint creates a `SignedVoluntaryExit` object, signed by with the given validator's key, and submit it to the 
    beacon node's [submitPoolVoluntaryExit](https://ethereum.github.io/beacon-APIs/?urls.primaryName=dev#/Beacon/submitPoolVoluntaryExit) endpoint. 

    Note that this is a one-way operation on a validator key and cannot be reverted once the request is successfully 
    submitted.
  security:
    - bearerAuth: []
  tags:
    - Voluntary Exit
  parameters:
      - in: path
        name: pubkey
        description: "Public key of an active validator known to the validator client."
        required: true
        schema:
          $ref: "../keymanager-oapi.yaml#/components/schemas/Pubkey"
      - in: query
        name: confirm
        description: "Explicit opt-in parameter to confirm the voluntary exit."
        required: false
        schema:
          type: string
          enum:
            - yes
      - in: query
        name: epoch
        required: false
        description: "Minimum epoch for processing exit. Defaults to the current epoch if not set."
        schema:
          $ref: '../keymanager-oapi.yaml#/components/schemas/Uint64'
  responses:
    "200":
      description: Validator exit is submitted to the beacon node
    "400":
      $ref: "../keymanager-oapi.yaml#/components/responses/BadRequest"
    "401":
      $ref: "../keymanager-oapi.yaml#/components/responses/Unauthorized"
    "403":
      $ref: "../keymanager-oapi.yaml#/components/responses/Forbidden"
    "404":
      $ref: "../keymanager-oapi.yaml#/components/responses/NotFound"
    "500":
      $ref: "../keymanager-oapi.yaml#/components/responses/InternalError"
